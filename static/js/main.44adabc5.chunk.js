(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[0],{201:function(e,t,a){},202:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(50),o=a.n(r),c=a(31),s=a(225),i=a(173),l=a(3),d="https://fakestoreapi.com/img/71-3HjGNDUL._AC_SY879._SX._UX._SY._UY_.jpg",u="https://fakestoreapi.com/img/61sbMiUnoGL._AC_UL640_QL65_ML3_.jpg",j="https://fakestoreapi.com/img/51Y5NI-I5jL._AC_UX679_.jpg",p="https://fakestoreapi.com/img/71kWymZ+c+L._AC_SX679_.jpg",h=function(e){var t=e.name,a=e.onClick;return Object(l.jsx)(s.a,{onClick:a,children:Object(l.jsxs)(s.a.Content,{children:[Object(l.jsx)(i.a,{floated:"right",size:"large",src:"electronics"===t?p:"jewelery"===t?u:"men's clothing"===t?d:"women's clothing"===t&&j}),Object(l.jsx)(s.a.Header,{children:t}),Object(l.jsx)(s.a.Description,{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime mollitia, molestiae quas vel sint commodi repudiandae consequuntur voluptatum."}),Object(l.jsx)(s.a.Meta,{children:"Explore More"})]})})},g=a(217),b=function(){return Object(l.jsx)(g.a,{active:!0})},m="FETCH_CATEGORIES",O="FETCH_CATEGORIES_SUCCESS",f=new Headers;f.append("Content-Type","application/json"),f.append("Accept","application/json"),f.append("Origin","http://localhost:3000");var v="FETCH_PRODUCTS_BY_CATEGORY",x="FETCH_PRODUCTS_BY_CATEGORY_SUCCESS",C="FETCH_PRODUCTS_BY_CATEGORY_FAILURE",y=new Headers;y.append("Content-Type","application/json"),y.append("Accept","application/json"),y.append("Origin","http://localhost:3000");var S=Object(c.c)((function(e){return{categories:e.categories.data,loading:e.categories.loading,haveData:e.categories.haveData}}),(function(e){return{getCategories:function(){return e((function(e){return e({type:m}),fetch("https://fakestoreapi.com/products/categories",{headers:f}).then((function(e){return e.json()})).then((function(t){return e({type:O,payload:t}),t})).catch((function(t){e({type:"FETCH_CATEGORIES_FAILURE"})}))}))}}}))((function(e){var t=e.loading,a=e.categories,r=void 0===a?[]:a,o=e.getCategories,c=e.history;Object(n.useEffect)((function(){o()}),[o]);var i=function(){return Object(l.jsx)(s.a.Group,{itemsPerRow:2,children:r.map((function(e,t){return Object(l.jsx)(h,{name:e,onClick:function(){return c.push("/products/".concat(e))}},t)}))})};return Object(l.jsx)("div",{children:t?Object(l.jsx)(b,{}):Object(l.jsx)("div",{className:"shop-container",children:Object(l.jsx)(i,{})})})})),w=a(168),_=a(14),k=a(54),E=a(227),R=a(228),T=a(203),L=a(163),D=a.n(L),N=function(e){var t=e.rateInfo.rate;return Object(l.jsx)(D.a,{count:5,size:24,activeColor:"#ffd700",value:t})},I=function(e){var t=e.product,a=e.handleShowPopUp,n=e.addToCart,r=t.description,o=t.image,c=t.price,d=t.rating,u=t.title,j=t.category;return Object(l.jsx)(s.a,{className:"fullWidth",children:Object(l.jsx)(E.a,{children:Object(l.jsxs)(E.a.Row,{children:[Object(l.jsx)(E.a.Column,{width:4,className:"paddingMedium rightpaddingNone",children:Object(l.jsx)(i.a,{src:o,className:"img-ctrl"})}),Object(l.jsx)(E.a.Column,{width:12,className:"paddingMedium",children:Object(l.jsxs)(s.a.Content,{children:[Object(l.jsx)(R.a,{as:"h3",children:u}),Object(l.jsx)(s.a.Description,{children:r}),Object(l.jsxs)(R.a,{as:"h4",children:["$",c]}),Object(l.jsx)(s.a.Header,{children:j}),Object(l.jsx)(N,{rateInfo:d}),Object(l.jsx)(T.a,{color:"orange",className:"rightmove",onClick:function(){localStorage.getItem("token")?n(t):a()},children:"Add to cart"})]})})]})})})},F=a(223),A=a(138),H=a(222),z=a(218),P=function(e){var t=e.placeholder,a=e.onChange,n=e.error,r=e.value,o=e.type,c=e.name;return Object(l.jsxs)("div",{className:"field",children:[Object(l.jsx)(z.a,{type:o,name:c,placeholder:t,onChange:a,value:r}),n?Object(l.jsx)("em",{className:"Error",children:n}):""]})},U=function(e){var t={};return e.username||(t.username="Required Field"),e.password||(t.password="Required Field"),t},G=function(e){var t=e.handleSubmit,a=e.loading,n=e.loginData,r=Object(A.a)({initialValues:{username:"",password:""},validate:U,onSubmit:t});return Object(l.jsxs)(H.a,{size:"big",onSubmit:r.handleSubmit,children:[Object(l.jsx)(P,{type:"text",name:"username",placeholder:"name",onChange:r.handleChange,value:r.values.username,error:r.errors.username}),Object(l.jsx)(P,{type:"password",name:"password",placeholder:"password",onChange:r.handleChange,value:r.values.password,error:r.errors.password}),n?Object(l.jsx)("p",{className:"Error",children:n}):"",Object(l.jsx)(T.a,{positive:!0,loading:a,type:"submit",children:"LOGIN"})]},"big")},B=function(e){var t={};return e.email||(t.email="Required email validation"),e.username||(t.username="Required Field"),e.password||(t.password="Required Field"),t},M=function(){var e=Object(A.a)({initialValues:{username:"",password:"",email:""},validate:B,onSubmit:function(e){console.log(JSON.stringify(e,null,2))}});return Object(n.useEffect)((function(){console.log("RegisterForm render inside useEffect")})),Object(l.jsxs)(H.a,{size:"big",onSubmit:e.handleSubmit,children:[Object(l.jsx)(P,{type:"text",name:"email",placeholder:"email",onChange:e.handleChange,value:e.values.email,error:e.errors.email}),Object(l.jsxs)(H.a.Group,{widths:"equal",children:[Object(l.jsx)(P,{type:"text",name:"firstname",placeholder:"first name",onChange:e.handleChange,value:e.values.firstname,error:e.errors.firstname}),Object(l.jsx)(P,{type:"text",name:"lastname",placeholder:"last name",onChange:e.handleChange,value:e.values.lastname,error:e.errors.lastname})]}),Object(l.jsxs)(H.a.Group,{widths:"equal",children:[Object(l.jsx)(P,{type:"text",name:"city",placeholder:"city",onChange:e.handleChange,value:e.values.city,error:e.errors.city}),Object(l.jsx)(P,{type:"text",name:"street",placeholder:"street",onChange:e.handleChange,value:e.values.street,error:e.errors.street}),Object(l.jsx)(P,{type:"text",name:"number",placeholder:"House number",onChange:e.handleChange,value:e.values.number,error:e.errors.number}),Object(l.jsx)(P,{type:"text",name:"zipcode",placeholder:"zipcode",onChange:e.handleChange,value:e.values.zipcode,error:e.errors.zipcode})]}),Object(l.jsx)(P,{type:"number",name:"phone",placeholder:"phone number",onChange:e.handleChange,value:e.values.phone,error:e.errors.phone}),Object(l.jsx)(P,{type:"password",name:"password",placeholder:"password",onChange:e.handleChange,value:e.values.password,error:e.errors.password}),Object(l.jsx)(T.a,{positive:!0,type:"submit",children:"REGISTER"})]},"big")},Y=Object(c.c)(null,(function(e){return{dispatch:e}}))((function(e){var t=e.size,a=e.open,r=e.title,o=e.handleShowPopUp,c=Object(n.useState)(!1),s=Object(k.a)(c,2),i=s[0],d=s[1],u=Object(n.useState)(!1),j=Object(k.a)(u,2),p=j[0],h=j[1],g=Object(n.useState)(""),b=Object(k.a)(g,2),m=b[0],O=b[1];return Object(l.jsxs)(F.a,{size:i?"small":t,open:a,onClose:function(){return o()},children:[Object(l.jsxs)(F.a.Header,{children:[r,Object(l.jsxs)("p",{style:{fontSize:14,display:"block"},children:["New member?"," ",Object(l.jsxs)("em",{onClick:function(){d(!i)},className:"linkColor",children:[" ",i?"Login":"Register"]})]})]}),Object(l.jsx)(F.a.Content,{children:i?Object(l.jsx)(M,{}):Object(l.jsx)(G,{handleSubmit:function(e){h(!p);var t=new Headers;t.append("Content-Type","application/json"),t.append("Accept","application/json"),t.append("Origin","http://localhost:3000"),fetch("https://fakestoreapi.com/auth/login",{method:"POST",headers:t,body:JSON.stringify({username:e.username,password:e.password})}).then((function(e){return e.json()})).then((function(e){void 0!==e.token&&(localStorage.setItem("token",e.token),o(!1),window.location.reload()),O("pls use correct username and password"),h(!1)})).catch((function(e){h(!1),console.log(e)}))},loading:p,loginData:m})})]})})),q=a(221),J=function(e){var t=e.options,a=e.placeholder,n=e.onChange,r=e.products,o=e.setfilterProducts;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(q.a,{search:!0,selection:!0,closeOnChange:!0,options:t,placeholder:a,onChange:function(e,t){var a=t.value;return n(a,r,o)}})," "]})},X="ADD_TO_CART",Q="REMOVE_FROM_CART",V=a(103),W=function(e,t,a){switch(e){case"price- Low to High":var n=t.sort((function(e,t){return e.price-t.price}));return a(Object(V.a)(n));case"price- High to Low":var r=t.sort((function(e,t){return t.price-e.price}));return a(Object(V.a)(r));default:return t}},$=[{key:1,value:"price- High to Low",text:"price- High to Low"},{key:2,value:"price- Low to High",text:"price- Low to High"}],Z=Object(c.c)((function(e){return{cartItems:e.cart,products:e.productsbyCategory.data,loading:e.productsbyCategory.loading}}),(function(e,t){return{type:t.match.params.type,history:t.history,getProductsByCategory:function(){return e((a=t.match.params.type,function(e){return e({type:v}),fetch("https://fakestoreapi.com/products/category/".concat(a),{headers:y}).then((function(e){return e.json()})).then((function(t){return e({type:x,payload:t}),t})).catch((function(t){e({type:C})}))}));var a},addToCart:function(t){return e({type:X,payload:t})}}}))((function(e){var t=e.getProductsByCategory,a=e.products,r=e.loading,o=e.type,c=e.addToCart,i=Object(n.useState)(!1),d=Object(k.a)(i,2),u=d[0],j=d[1],p=Object(n.useState)(a),h=Object(k.a)(p,2),g=(h[0],h[1]);Object(n.useEffect)((function(){t()}),[]);var m=function(){j(!u)},O=function(e){var t=e.products;return Object(l.jsx)(s.a.Group,{itemsPerRow:1,children:t.map((function(e,t){return Object(l.jsx)(I,{product:e,handleShowPopUp:m,addToCart:c},t)}))})};return Object(l.jsxs)("div",{children:[r?Object(l.jsx)(b,{}):Object(l.jsxs)("div",{className:"shop-container",children:[Object(l.jsx)(J,{options:$,placeholder:"Filter By Price",onChange:W,setfilterProducts:g,products:a}),Object(l.jsx)(O,{products:a})]}),u?Object(l.jsx)(Y,{open:!localStorage.getItem("token")&&u,size:"tiny",title:"Please Login to proceed",type:o,handleShowPopUp:m}):""]})})),K=a(55),ee=a(219),te=a(224),ae=a(165),ne=a(166),re=a(174),oe=a(172),ce=a(105),se=a.n(ce),ie=a(220),le=function(e){Object(re.a)(a,e);var t=Object(oe.a)(a);function a(){var e;Object(ae.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!1,results:e.props.cartData,value:""},e.handleResultSelect=function(t,a){var n=a.result;console.log(e.state.value),e.setState({value:n.title})},e.handleSearchChange=se.a.debounce((function(t,a){var n=a.value;if(e.setState({isLoading:!0,value:n}),console.log(n),e.state.value.length<1)return e.setState(e.state);var r=new RegExp(se.a.escapeRegExp(e.state.value),"i"),o=function(e){return r.test(e.title)},c=se.a.reduce([],(function(e,t,a){var n=se.a.filter(t,o);return n.length&&(e[a]={name:a,results:n}),e}),{});e.setState({isLoading:!1,results:c})}),400),e.handleSearchQuery=se.a.debounce((function(t,a){var n=a.value;console.log(t),console.log("is deboucne woek"),e.setState({value:n})}),{leading:!0},1e3),e}return Object(ne.a)(a,[{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.value;e.results;return console.log(a),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("em",{style:{float:"left",fontSize:"2em",marginTop:"8px"},children:"Mini Shop"}),Object(l.jsx)(ie.a,{category:!0,loading:t,onSearchChange:this.handleSearchQuery,value:a})]})}}]),a}(n.Component),de=function(e){var t=e.handleLogout,a=e.cartData,r=e.removeFromCart,o=e.isLogin,c=Object(n.useState)(!1),s=Object(k.a)(c,2),d=s[0],u=s[1];return Object(l.jsx)(E.a,{columns:2,className:"iconBar",children:Object(l.jsxs)(E.a.Row,{children:[Object(l.jsxs)(E.a.Column,{children:[Object(l.jsx)(le,{cartData:a})," "]}),o&&Object(l.jsxs)(E.a.Column,{style:{paddingTop:"8px"},children:["Welcome ",Object(l.jsx)(K.a,{disabled:!0,name:"user",size:"large"}),0!==a.length?Object(l.jsxs)(ee.a,{trigger:Object(l.jsxs)("button",{className:"invisibleBtn",children:[Object(l.jsx)(K.a,{disabled:!0,name:"shop",size:"large",color:"yellow",style:{marginLeft:10,marginRight:10}}),a.length>0&&Object(l.jsx)("span",{className:"cartCountInfo",children:a.length})]}),on:"click",position:"bottom right",wide:!0,children:[Object(l.jsx)(te.a,{divided:!0,verticalAlign:"middle",children:a.map((function(e){return Object(l.jsxs)(te.a.Item,{children:[Object(l.jsx)(i.a,{avatar:!0,src:e.image,size:"small"}),Object(l.jsxs)(te.a.Content,{style:{width:"80%"},children:[Object(l.jsx)(te.a.Header,{children:e.title}),Object(l.jsxs)("em",{children:["$ ",e.price," x ",e.count]}),Object(l.jsx)(K.a,{name:"close",onClick:function(){return r(e.id)}})]})]},e.id)}))}),0!==a.length&&Object(l.jsxs)(R.a,{sub:!0,style:{marginBottom:13},children:["Total"," ",Object(l.jsxs)("span",{children:["$"," ",a.reduce((function(e,t){return e+t.price*t.count}),0).toFixed(2)]})]}),Object(l.jsx)(T.a,{loading:d,onClick:function(){u(!0),setTimeout((function(){u(!1)}),1e3)},positive:!0,style:{width:"100%"},children:"Proceed"})]}):Object(l.jsx)(K.a,{disabled:!0,name:"shop",size:"large",color:"yellow",style:{marginLeft:10,marginRight:10}}),Object(l.jsx)("em",{className:"linkColor",onClick:function(){return t()},children:"Logout"})]})]})})},ue=Object(c.c)((function(e){return{cartData:e.cart.data||[]}}),{removeFromCart:function(e){return{type:Q,payload:e}}})((function(e){var t=e.cartData,a=e.removeFromCart;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(de,{handleLogout:function(){localStorage.removeItem("token"),localStorage.removeItem("cartData"),window.location.reload()},removeFromCart:a,cartData:t,isLogin:localStorage.getItem("token")}),Object(l.jsxs)(w.a,{children:[Object(l.jsx)(_.a,{path:"/",exact:!0,component:S}),Object(l.jsx)(_.a,{path:"/products/:type",exact:!0,component:Z})]})]})})),je=a(107),pe=a(25),he=(a(200),a(104)),ge=a(170),be=a(158),me={loading:!0,haveData:!1,data:[]},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return{loading:!0,haveData:!1};case O:return{loading:!1,haveData:!0,data:t.payload};default:return e}},fe=a(74),ve={loading:!0,haveData:!1,data:[]},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!0,haveData:!1});case x:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,haveData:!0,data:t.payload});case C:return ve;default:return e}},Ce={loading:!0,data:JSON.parse(localStorage.getItem("cartData")||"[]")},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:var a=!1;return e.data.map((function(e){return e.id===t.payload.id&&(a=!0,e.count++),a})),a||(e.data.push(Object(fe.a)(Object(fe.a)({},t.payload),{},{count:1})),localStorage.setItem("cartData",JSON.stringify(e.data))),{loading:!1,data:Object(V.a)(e.data)};case Q:var n=e.data.filter((function(e){return e.id!==t.payload}));return localStorage.setItem("cartData",JSON.stringify(n)),{saving:!1,data:Object(V.a)(n)};default:return e}},Se=function(e){return Object(he.b)({router:Object(je.b)(e),categories:Oe,productsbyCategory:xe,cart:ye})},we=function(e,t){return Object(he.d)(Se(t),e,Object(he.c)(Object(he.a)(ge.a,Object(be.a)(t))))},_e=(a(201),Object(pe.a)()),ke=we({},_e);o.a.render(Object(l.jsx)(c.a,{store:ke,children:Object(l.jsx)(je.a,{history:_e,children:Object(l.jsx)(ue,{})})}),document.getElementById("root"))}},[[202,1,2]]]);
//# sourceMappingURL=main.44adabc5.chunk.js.map